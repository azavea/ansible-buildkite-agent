---
addons:
  artifacts:
    debug: true
    paths:
      - $(git ls-files -o | tr "\n" ":")
      - $(ls /var/log/*.log | tr "\n" ":")
      - ${HOME}/.cache/pre-commit/pre-commit.log
before_install:
  - sudo apt-get -qq update
  - pip install -r requirements.txt
before_script:
  - workflow/pre-build.sh
cache:
  directories:
    - ${HOME}/.cache/pre-commit
git:
  depth: 10
language: python
script:
  - workflow/all.sh
services:
  - docker
sudo: required
